<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Welcome to What's Cooking</title>
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">

</head>
<style>
  .box-container {
    padding: 20px;
    border: 3px solid #007bff;
    border-radius: 20px;
    backdrop-filter: blur(30px);
    background-color: rgba(39, 39, 39, 0.218);
    margin-top: 50px;
    /* Added margin-top to provide space between the container and the top */
  }

  .welcome-heading {
    font-size: 2.5rem;
    margin-bottom: 20px;
  }

  h1 {
    color: white;
  }

  h2 {
    color: #007bff;
    margin-top: 20px;
  }

  body {
    /* background-image: url('../../assets/images/homebg.jpg'); */
    background: linear-gradient(45deg, #138ee0, #15355f);
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: auto;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    /* Align items at the start (top) */
    backdrop-filter: blur(20%);
  }

  p {
    line-height: 1.6;
    color: white;
  }

  .card-container {
    overflow-x: scroll;
    white-space: nowrap;
    margin-top: -100px;
    padding-top: 20px;
    padding-bottom: 20px;

  }

  .container {

    /* Adjust the minimum height as needed */
    overflow: hidden;
    overflow-y: auto;
  }

  .container mt-4 {
    margin-top: 60px;
  }

  .card {
    display: inline-block;
    /* Display cards in a row */
    width: 200px;
    /* Set a fixed width for each card */
    margin-right: 35px;
    /* Add some space between cards */
  }

  /* Container for search results */
  .search-results-container {
    background-color: #fff;
    /* Set a background color */
    padding: 20px;
    /* Add some padding */
    border-radius: 10px;
    /* Add rounded corners */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    /* Add a subtle box shadow for elevation */
    margin-top: 20px;
    /* Adjust the top margin as needed */
  }

  /* Heading for search results */
  .results-heading {
    font-size: 1.5rem;
    color: #007bff;
    /* Use your desired color */
  }

  /* List of search results */
  .results-list {
    list-style: none;
    /* Remove default list styles */
    padding: 0;
    /* Remove default list padding */
  }

  /* Individual search result item */
  .result-item {
    margin-bottom: 10px;
    /* Add some spacing between items */
    padding: 10px;
    /* Add padding to each item */
    background-color: #f5f5f5;
    /* Set a background color for each item */
    border-radius: 5px;
    /* Add rounded corners to each item */
  }

  .selected-recipe-container {
    background-color: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    margin-top: 20px;
  }

  .back-button {
    background-color: #007bff;
    color: #fff;
    border: none;
    padding: 10px;
    border-radius: 5px;
    cursor: pointer;
  }

  .recipe-heading {
    font-size: 1.5rem;
    color: #007bff;
  }

  .recipe-description {
    color: #333;
  }

  .preparation-heading {
    font-size: 1.2rem;
    margin-top: 20px;
  }

  .preparation-steps {
    list-style-type: decimal;
    padding-left: 20px;
  }
</style>
<app-navbar></app-navbar>

<body>


  <div class="container">
    <div class="row justify-content-center align-items-start" style="margin-top: 177px;
    max-width: 80%;
    margin-left: 80px;">

      <!-- Horizontal scrolling cards -->
      <div class="card-container">
        <div class="card">
          <img src="../../assets/images/fooditems/biriyani.jpg" class="card-img-top" alt="Food 1">
          <div class="card-body">
            <h5 class="card-title">Biriyani</h5>
          </div>
        </div>
        <div class="card">
          <img src="../../assets/images/fooditems/dalchawal.jpg" class="card-img-top" alt="Food 2">
          <div class="card-body">
            <h5 class="card-title">Dal Chawal</h5>
          </div>
        </div>
        <div class="card">
          <img src="../../assets/images/fooditems/chicken65.jpg" class="card-img-top" alt="Food 2">
          <div class="card-body">
            <h5 class="card-title">Chicken 65</h5>
          </div>
        </div>
        <div class="card">
          <img src="../../assets/images/fooditems/panner.jpg" class="card-img-top" alt="Food 2">
          <div class="card-body">
            <h5 class="card-title">Panner Butter </h5>
          </div>
        </div>
        <div class="card">
          <img src="../../assets/images/fooditems/pizza.jpg" class="card-img-top" alt="Food 2">
          <div class="card-body">
            <h5 class="card-title">Pizza</h5>
          </div>
        </div>
      </div>

      <div class="container mt-4">
        <div class="row justify-content-center">
          <div class="col-md-6">
            <div class="input-group">
              <input [(ngModel)]="searchQuery" type="text" class="form-control" placeholder="Search" aria-label="Search"
                aria-describedby="basic-addon2">
              <div class="input-group-append">
                <button (click)="search()" class="btn btn-warning" type="button">Search</button>
              </div>
            </div>
          </div>
        </div>
      </div>


      <!-- Display Search Results -->
      <div *ngIf="recipes && recipes.length > 0; else errorSection" class="search-results-container">
        <h3 class="results-heading">Search Results</h3>
        <ul class="results-list">
          <li *ngFor="let recipe of recipes" class="result-item" (click)="showRecipeDetails(recipe)">
            {{ recipe.label }}
          </li>
        </ul>
      </div>

      <!-- Display Selected Recipe Details -->
      <!-- <div *ngIf="selectedRecipe" class="selected-recipe-container">
        <button (click)="goBackToSearchResults()" class="back-button">Back to Search Results</button>
        <h3 class="recipe-heading">{{ selectedRecipe.label }}</h3>
        <img [src]="selectedRecipe.image" alt="{{ selectedRecipe.label }}" class="recipe-image" style="align-content: center;">
        <p class="recipe-description">Ingredients: {{ selectedRecipe.ingredientLines.join(', ') }}</p>
        <a href="https://food52.com/recipes">for more details</a> -->


      <div *ngIf="selectedRecipe" class="selected-recipe-container">
        <button (click)="goBackToSearchResults()" class="back-button">Back to Search Results</button>
        <h3 class="recipe-heading">{{ selectedRecipe.label }}</h3>
        <img [src]="selectedRecipe.image" alt="{{ selectedRecipe.label }}" class="recipe-image">
        <p class="recipe-description">Ingredients: {{ selectedRecipe.ingredientLines.join(', ') }}</p>
        <a href="{{ selectedRecipe.url }}" target="_blank" rel="noopener noreferrer">for more details</a> <br><br>
        
        <p>Likes: {{ selectedRecipe.likes }}</p>
        <p>Dislikes: {{ selectedRecipe.dislikes }}</p>

        <!-- Like and Dislike buttons -->
        <div class="justify-content-center">
        <button class="btn-primary" (click)="likeRecipe(selectedRecipe)">Like</button>
        <button class="btn-danger" style="margin-left: 30px;" (click)="dislikeRecipe(selectedRecipe)">Dislike</button>
      </div>
        
      </div>
    </div>
    <!-- Error Section -->
    <ng-template #errorSection>
      <div class="error-message" style="text-align: center;">Error fetching recipes. Please try again.</div>
    </ng-template>
  </div>
  
</body>

</html>